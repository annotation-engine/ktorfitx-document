# 方法规则

## `suspend` 关键字

由于本项目均采用协程进行网络请求，所以方法必须有 `suspend` 关键字修饰

如果未使用 `suspend` 关键字进行修饰，将会在编译期进行错误提示

```kotlin
@Api(url = "/test")
interface TestApi {

    /**
     * 这里需要使用 suspend 关键字
     */
    @GET(url = "/test")
    suspend fun test(): String
}
```

问：为什么使用 suspend ?

答1：**简化异步代码** suspend 方法与 Kotlin 协程紧密结合，提供了一种自然、直观的方式来写异步代码，
而无需回调地狱或复杂的状态管理。代码结构看起来像同步代码，但实际上是非阻塞的。

答2：**非阻塞 I/O** suspend 方法通过挂起当前协程而非线程，允许其他协程运行，从而更高效地利用资源。
使用 Ktor 库，网络请求操作不会阻塞主线程。

答3：**与协程范围和作用域结合** suspend 方法可以在不同的协程作用域中使用，
比如在 viewModelScope 中发起网络请求时，可以自动绑定到生命周期。

答4：**轻松组合异步操作** 通过 async 和 await，多个网络请求可以并行执行，提高效率

## 无需提供实现

该接口中的方法无需提供实现，只需定义即可。Kotlin 接口允许方法提供默认实现，
但在这里由 ktorfitx 框架自动生成实现类进行实现。

当您错误的提供方法默认实现后，ktorfitx 将不会进行代码的实现，
未来将计划改为提供实现，并且在项目构建期间使用 warn 级别的日志来提示用户

## 访问权限

由于必须定义在接口中，所以语言特性，方法必须是 `public` 类型的，默认就是